
SELECT * FROM TB_DEPT;
SELECT * FROM TB_DEPT_HIST 

SELECT * FROM TB_BOARD;
------------------------------------------------------------------

--TB_DEPT(부서테이블)

CREATE TABLE TB_DEPT (

HIGH_DEPT_CD VARCHAR2(30) /** 상위부서코드 */

,HIGH_DEPT_NM VARCHAR2(30) /** 상위부서명 */

,ROW_DEPT_CD  VARCHAR2(30) NOT NULL/** 하위부서코드 */

,ROW_DEPT_NM VARCHAR2(30) /** 하위부서명 */

);

DROP TABLE TB_DEPT;

--코멘트

COMMENT ON TABLE TB_DEPT IS '부서'; /** 테이블 설명 */

/** 테이블_컬럼 설명 */


COMMENT ON COLUMN TB_DEPT.HIGH_DEPT_CD IS '상위부서코드';

COMMENT ON COLUMN TB_DEPT.HIGH_DEPT_NM IS '상위부서명';

COMMENT ON COLUMN TB_DEPT.ROW_DEPT_CD IS '하위부서코드';

--COMMENT ON COLUMN TB_DEPT.ROW_DEPT_NM IS '하위부서명';


ALTER TABLE TB_DEPT ADD CONSTRAINT DEPT_CD_PK PRIMARY KEY (ROW_DEPT_CD);


 

--TB_DEPT_HIST(부서이력테이블)

CREATE TABLE TB_DEPT_HIST (

HIGH_DEPT_CD VARCHAR2(30) /** 상위부서코드 */

,HIGH_DEPT_NM VARCHAR2(30) /** 상위부서명 */

,ROW_DEPT_CD VARCHAR2(30) NOT NULL /** 하위부서코드 */

,ROW_DEPT_NM VARCHAR2(30) /** 하위부서명 */

,DEPT_CREAT_DE VARCHAR2(8) /** 부서생성일자 */

,DEPT_CLS_DE VARCHAR2(8) /** 부서폐쇄일자 */

);

DROP TABLE TB_DEPT_HIST;
 

--코멘트

COMMENT ON TABLE TB_DEPT IS '부서이력'; /** 테이블 설명 */

/** 테이블_컬럼 설명 */

COMMENT ON COLUMN TB_DEPT_HIST.HIGH_DEPT_CD IS '상위부서코드';

COMMENT ON COLUMN TB_DEPT_HIST.HIGH_DEPT_NM IS '상위부서명';

COMMENT ON COLUMN TB_DEPT_HIST.ROW_DEPT_CD IS '하위부서코드';

--COMMENT ON COLUMN TB_DEPT_HIST.ROW_DEPT_NM  IS '하위부서명';

COMMENT ON COLUMN TB_DEPT_HIST.DEPT_CREAT_DE IS '부서생성일자';

COMMENT ON COLUMN TB_DEPT_HIST.DEPT_CLS_DE IS '부서폐쇄일자';


ALTER TABLE TB_DEPT_HIST ADD CONSTRAINT DEPT_HIST_CD_PK PRIMARY KEY (ROW_DEPT_CD);

--ALTER TABLE TB_DEPT_HIST ADD CONSTRAINT DEPT_HIST_CD_FK FOREIGN KEY (DEPT_CD);

--ALTER TABLE TB_DEPT_HIST ADD CONSTRAINT DEPT_HIST_CD_FK foreign KEY(DEPT_CD) references TB_DEPT (DEPT_CD);

--TB_MEMBER(직원테이블)

CREATE TABLE TB_MEMBER (

MBR_CD VARCHAR2(20) NOT NULL /** 직원코드 */

,MBR_ID VARCHAR2(30) NOT NULL /** 직원아이디 */

,DEPT_CD VARCHAR2(30) NOT NULL /** 부서코드 */

,MBR_PW VARCHAR2(30) NOT NULL /** 직원비밀번호 */

,MBR_PW_ERR_CNT NUMBER(3) /** 직원비밀번호 실패횟수 */

,MBR_NM VARCHAR2(20) /** 직원명 */

,DEPT_NM VARCHAR2(30) /** 부서명 */

,MBR_RANK_NM VARCHAR2(20) /** 직원직급명 */

,MBR_STTUS_CD VARCHAR2(10) /** 직원상태 */

,MBR_EMAIL VARCHAR2(50) /** 직원이메일 */

,MBR_PHONE VARCHAR2(30) /** 직원휴대번호 */

,MBR_AREA VARCHAR2(20) /** 직원 지역 */ 

);
 

--ALTER TABLE TB_MEMBER ADD CONSTRAINT DEPT_CD_FK FOREIGN KEY (DEPT_CD);
ALTER TABLE TB_MEMBER ADD CONSTRAINT DEPT_CD_FK FOREIGN KEY(DEPT_CD) REFERENCES TB_DEPT (ROW_DEPT_CD);

ALTER TABLE TB_MEMBER ADD CONSTRAINT MBR_CD_PK PRIMARY KEY (MBR_CD);

--ALTER TABLE TB_MEMBER ADD CONSTRAINT MBR_ID_PK PRIMARY KEY (MBR_ID);

 --컬럼 추가 
ALTER TABLE TB_MEMBER ADD CMPNY_ADDR_DOMAIN VARCHAR(30);

 

--코멘트

COMMENT ON TABLE TB_MEMBER IS '직원'; /** 테이블 설명 */

/** 테이블_컬럼 설명 */

COMMENT ON COLUMN TB_MEMBER.MBR_CD IS '직원코드';

COMMENT ON COLUMN TB_MEMBER.MBR_ID IS '직원아이디';

COMMENT ON COLUMN TB_MEMBER.DEPT_CD IS '부서코드';

COMMENT ON COLUMN TB_MEMBER.MBR_PW IS '직원비밀번호';

COMMENT ON COLUMN TB_MEMBER.MBR_PW_ERR_CNT  IS '직원비밀번호 실패횟수';

COMMENT ON COLUMN TB_MEMBER.MBR_NM IS '직원명';

COMMENT ON COLUMN TB_MEMBER.DEPT_NM IS '부서명';

COMMENT ON COLUMN TB_MEMBER.MBR_RANK_NM IS '직원직급명';

COMMENT ON COLUMN TB_MEMBER.MBR_STTUS_CD IS '직원상태';

COMMENT ON COLUMN TB_MEMBER.MBR_EMAIL IS '직원이메일';

COMMENT ON COLUMN TB_MEMBER.MBR_PHONE IS '직원휴대번호';

COMMENT ON COLUMN TB_MEMBER.MBR_AREA IS '직원 지역';

 

--TB_MEMBER_HIST (직원이력테이블)

CREATE TABLE TB_MEMBER_HIST (

MBR_CD VARCHAR2(20) NOT NULL /** 직원코드 */

,MBR_ID VARCHAR2(30) NOT NULL /** 직원아이디 */

,DEPT_CD VARCHAR2(30) NOT NULL /** 부서코드 */

,MBR_PW VARCHAR2(30) NOT NULL /** 직원비밀번호 */

,MBR_NM VARCHAR2(20) /** 직원명 */

,DEPT_NM VARCHAR2(30) /** 부서명 */

,MBR_STTUS_CD VARCHAR2(10) /** 직원상태 */

,MBR_ENCY_DE VARCHAR2(8) /** 입사일자 */

,MBR_RETIRE_DE VARCHAR2(8) /** 퇴사일자 */

);

COMMIT;

--ALTER TABLE TB_MEMBER_HIST ADD CONSTRAINT DEPT_CD_FK FOREIGN KEY (DEPT_CD);
ALTER TABLE TB_MEMBER_HIST ADD CONSTRAINT DEPT_CD_FK_HIST FOREIGN KEY(DEPT_CD) REFERENCES TB_DEPT (ROW_DEPT_CD);

ALTER TABLE TB_MEMBER_HIST ADD CONSTRAINT MBR_HIST_CD_PK PRIMARY KEY (MBR_CD);

--ALTER TABLE TB_MEMBER_HIST ADD CONSTRAINT MBR_ID_PK PRIMARY KEY (MBR_ID);

 

--코멘트

COMMENT ON TABLE TB_MEMBER_HIST IS '직원이력'; /** 테이블 설명 */

/** 테이블_컬럼 설명 */

COMMENT ON COLUMN TB_MEMBER_HIST.MBR_CD IS '직원코드';

COMMENT ON COLUMN TB_MEMBER_HIST.MBR_ID IS '직원아이디';

COMMENT ON COLUMN TB_MEMBER_HIST.MBR_PW IS '직원비밀번호';

COMMENT ON COLUMN TB_MEMBER_HIST.DEPT_CD IS '부서코드';

COMMENT ON COLUMN TB_MEMBER_HIST.MBR_NM IS '직원명';

COMMENT ON COLUMN TB_MEMBER_HIST.DEPT_NM IS '부서명';

COMMENT ON COLUMN TB_MEMBER_HIST.MBR_STTUS_CD IS '직원상태';

COMMENT ON COLUMN TB_MEMBER_HIST.MBR_ENCY_DE IS '입사일자';

COMMENT ON COLUMN TB_MEMBER_HIST.MBR_RETIRE_DE IS '퇴사일자';

 

--TB_MAIL(메일 테이블)

CREATE TABLE TB_MAIL (

--MAIL_PK 필요?

MAIL_SEND_USER_ID VARCHAR2(50) NOT NULL /** 메일발신자 아이디*/

,MAIL_SEND_USER_NM VARCHAR2(50) /** 메일발신자명 */

,MAIL_SJ VARCHAR2(100) /** 메일제목 */

,MAIL_CN VARCHAR2(4000) /** 메일내용 */

,MAIL_USER_ID VARCHAR2(50) NOT NULL /** 메일수신자 아이디 */

,MAIL_SEND_DT DATE /** 메일발신일자 */

,MAIL_SEND_MAIL VARCHAR2(500) /** 메일발신자 주소 */

);

 

--코멘트

COMMENT ON TABLE TB_DEPT IS '메일'; /** 테이블 설명 */

/** 테이블_컬럼 설명 */

COMMENT ON COLUMN TB_MAIL.MAIL_SEND_USER_ID IS '메일발신자 아이디';

COMMENT ON COLUMN TB_MAIL.MAIL_SEND_USER_NM IS '메일발신자명';

COMMENT ON COLUMN TB_MAIL.MAIL_SJ IS '메일제목';

COMMENT ON COLUMN TB_MAIL.MAIL_CN IS '메일내용';

COMMENT ON COLUMN TB_MAIL.MAIL_USER_ID  IS '메일수신자 아이디';

COMMENT ON COLUMN TB_MAIL.MAIL_SEND_DT IS '메일발신일자';

COMMENT ON COLUMN TB_MAIL.MAIL_SEND_MAIL IS '메일발신자 주소';

 

--TB_FILE (파일테이블)

CREATE TABLE TB_FILE (

FILE_ID VARCHAR2(100) NOT NULL /** 파일아이디 */

,FILE_NM VARCHAR2(200) NOT NULL /** 파일명 */

,FILE_PATH VARCHAR2(1000) NOT NULL /** 파일경로 */

,FILE_ORGINL_NM VARCHAR2(200) /** 파일원본명 */

,FILE_SIZE NUMBER(10) /** 파일크기 */

,FILE_ERR_CN VARCHAR2(200) /** 파일오류내용 */

);

 

ALTER TABLE TB_FILE ADD CONSTRAINT FILE_ID_PK PRIMARY KEY (FILE_ID);

 

--코멘트

COMMENT ON TABLE TB_FILE IS '파일'; /** 테이블 설명 */

/** 테이블_컬럼 설명 */

COMMENT ON COLUMN TB_FILE.FILE_ID IS '파일아이디';

COMMENT ON COLUMN TB_FILE.FILE_NM IS '파일명';

COMMENT ON COLUMN TB_FILE.FILE_PATH IS '파일경로';

COMMENT ON COLUMN TB_FILE.FILE_ORGINL_NM IS '파일원본명';

COMMENT ON COLUMN TB_FILE.FILE_SIZE  IS '파일크기';

COMMENT ON COLUMN TB_FILE.FILE_ERR_CN IS '파일오류내용';

 

--TB_BOARD (게시판테이블)

CREATE TABLE TB_BOARD (

BOARD_ID VARCHAR2(20) NOT NULL /** 게시판아이디 */

,FILE_ID VARCHAR2(100) NOT NULL /** 파일아이디 */

,BOARD_SJ VARCHAR2(500) /** 게시판제목 */

,BOARD_CN VARCHAR2(4000) /** 게시판내용 */

,RGS_DT DATE /** 등록일자 */

,RGS_USER_ID VARCHAR2(50) /** 등록사용자 아이디 */

,UPD_DT DATE /** 수정일자 */

,UPD_USER_ID VARCHAR2(50) /** 수정사용자 아이디 */

,FILE_ATCH_LMTT_AT VARCHAR2(1) /** 파일첨부제한여부 */

,FILE_LMTT_CNT NUMBER(10) /** 파일제한건수 */

,FILE_LMTT_SIZE NUMBER(10) /** 파일제한사이즈 */

,FILE_NM VARCHAR2(500) /** 파일명 */

);

 

--ALTER TABLE TB_BOARD ADD CONSTRAINT FILE_ID_FK FOREIGN KEY (FILE_ID);

ALTER TABLE TB_BOARD ADD CONSTRAINT BOARD_ID_PK PRIMARY KEY (BOARD_ID);

 

--코멘트

COMMENT ON TABLE TB_BOARD IS '게시판'; /** 테이블 설명 */

/** 테이블_컬럼 설명 */

COMMENT ON COLUMN TB_BOARD.BOARD_ID IS '게시판아이디';

COMMENT ON COLUMN TB_FILE.FILE_ID IS '파일아이디';

COMMENT ON COLUMN TB_BOARD.BOARD_SJ IS '게시판제목';

COMMENT ON COLUMN TB_BOARD.BOARD_CN IS '게시판내용';

COMMENT ON COLUMN TB_BOARD.RGS_DT IS '등록일자';

COMMENT ON COLUMN TB_BOARD.RGS_USER_ID IS '등록사용자 아이디';

COMMENT ON COLUMN TB_BOARD.UPD_DT IS '수정일자';

COMMENT ON COLUMN TB_BOARD.UPD_USER_ID IS '수정사용자 아이디';

COMMENT ON COLUMN TB_BOARD.FILE_ATCH_LMTT_AT IS '파일첨부제한여부';

COMMENT ON COLUMN TB_BOARD.FILE_LMTT_CNT IS '파일제한건수';

COMMENT ON COLUMN TB_BOARD.FILE_LMTT_SIZE IS '파일제한사이즈';

COMMENT ON COLUMN TB_BOARD.FILE_NM IS '파일명';

 

--TB_NOTICE(공지사항 테이블) ONLY 관리자만

CREATE TABLE TB_NOTICE (

NOTICE_ID VARCHAR2(20) NOT NULL /** 공지사항아이디 */

,FILE_ID VARCHAR2(100) NOT NULL /** 파일아이디 */

,NOTICE_SJ VARCHAR2(500) /** 공지사항제목 */

,NOTICE_CN VARCHAR2(4000) /** 공지사항내용 */

,RGS_DT DATE /** 등록일자 */

,RGS_USER_ID VARCHAR2(50) /** 등록사용자 아이디 */

,UPD_DT DATE /** 수정일자 */

,UPD_USER_ID VARCHAR2(50) /** 수정사용자 아이디 */

,FILE_ATCH_LMTT_AT VARCHAR2(1) /** 파일첨부제한여부 */

,FILE_LMTT_CNT NUMBER(10) /** 파일제한건수 */

,FILE_LMTT_SIZE NUMBER(10) /** 파일제한사이즈 */

,FILE_NM VARCHAR2(500) /** 파일명 */

);

 

--ALTER TABLE TB_NOTICE ADD CONSTRAINT FILE_ID_FK FOREIGN KEY (FILE_ID);

ALTER TABLE TB_NOTICE ADD CONSTRAINT NOTICE_ID_PK PRIMARY KEY (NOTICE_ID);

 

--코멘트

COMMENT ON TABLE TB_NOTICE IS '공지사항'; /** 테이블 설명 */

/** 테이블_컬럼 설명 */

COMMENT ON COLUMN TB_NOTICE.NOTICE_ID IS '공지사항아이디';

COMMENT ON COLUMN TB_NOTICE.FILE_ID IS '파일아이디';

COMMENT ON COLUMN TB_NOTICE.NOTICE_SJ IS '공지사항제목';

COMMENT ON COLUMN TB_NOTICE.NOTICE_CN IS '공지사항내용';

COMMENT ON COLUMN TB_NOTICE.RGS_DT IS '등록일자';

COMMENT ON COLUMN TB_NOTICE.RGS_USER_ID IS '등록사용자 아이디';

COMMENT ON COLUMN TB_NOTICE.UPD_DT IS '수정일자';

COMMENT ON COLUMN TB_NOTICE.UPD_USER_ID IS '수정사용자 아이디';

COMMENT ON COLUMN TB_NOTICE.FILE_ATCH_LMTT_AT IS '파일첨부제한여부';

COMMENT ON COLUMN TB_NOTICE.FILE_LMTT_CNT IS '파일제한건수';

COMMENT ON COLUMN TB_NOTICE.FILE_LMTT_SIZE IS '파일제한사이즈';

COMMENT ON COLUMN TB_NOTICE.FILE_NM IS '파일명';

 
COMMIT;
------------------------------------------------------------------

